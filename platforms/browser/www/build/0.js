webpackJsonp([0],{270:function(l,n,u){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=u(0),e=(u(3),u(23),u(59)),a=u(24),o=u(42),i=u(43),s=u(135),r=function(){function l(l,n,u,t,e,a,o){this.navCtrl=l,this.navParams=n,this.widget=u,this.translate=t,this.alertCtrl=e,this.hcService=a,this.geolocation=o,this.profileImage="../../assets/imgs/user_image.png",this.navParamsData={},this.navParamsData=n.get("data"),this.userDataSubscription=new i.Subscription,this.userProfileDetail={partyName:"NA",partyId:"NA",email:"NA",address:{address1:"NA",toName:"NA",attnName:"NA",address2:"NA",houseNumber:"NA",houseNumberExt:"NA",directions:"NA",city:"NA",cityGeoId:"NA",postalCode:0,postalCodeExt:"NA",countryGeoId:"NA",stateProvinceGeoId:"NA",countyGeoId:"NA",municipalityGeoId:"NA",geoPointId:"NA",postalCodeGeoId:"NA"},contact:"NA",userLoginId:"NA"},this.deviceLocation={latitude:"NA",longitude:"NA"},this.timeZone="NA"}return l.prototype.ionViewWillEnter=function(){this.navParamsData?this.userProfileDetail=this.navParamsData:this.getUserProfile(),this.timeZone=Intl.DateTimeFormat().resolvedOptions().timeZone,console.log(this.timeZone),this.getCurrentLocation()},l.prototype.getUserProfile=function(){var l=this;this.userDataSubscription.add(this.hcService.userProfile(localStorage.getItem("baseUrl")).subscribe(function(n){l.userProfileDetail=n}))},l.prototype.updatePassword=function(){var l=this;this.alertCtrl.create({title:this.translate.instant("Update Password"),message:"Enter following details to update password",inputs:[{name:"currentPassword",placeholder:"current password"},{name:"newPassword",placeholder:"new password"},{name:"verifyPassword",placeholder:"verify new password"}],buttons:[{text:this.translate.instant("cancel")},{text:this.translate.instant("save"),handler:function(n){""!==n.currentPassword||""!==n.newPassword||""!==n.verifyPassword?n.newPassword===n.verifyPassword?(l.widget.showLoading("Loading"),l.userDataSubscription.add(l.hcService.updateUserPassword(localStorage.getItem("baseUrl"),n.currentPassword,n.newPassword,n.verifyPassword).subscribe(function(n){l.widget.hideLoading(),l.widget.showToast(n.body._EVENT_MESSAGE_)},function(n){l.widget.hideLoading(),l.widget.showToast(n.status)}))):l.widget.showToast(l.translate.instant("passwordDoesNotMatch")):l.widget.showToast(l.translate.instant("AllFieldsRequired"))}}]}).present()},l.prototype.logout=function(){this.hcService.logout(),this.navCtrl.setRoot("LoginPage")},l.prototype.ionViewWillUnload=function(){this.userDataSubscription.unsubscribe()},l.prototype.getCurrentLocation=function(){var l=this;this.geolocation.getCurrentPosition().then(function(n){l.deviceLocation.latitude=n.coords.latitude,console.log(n)},function(l){console.log("Geopoint rejected")}).catch(function(l){console.log(l)})},l}(),_=function(){return function(){}}(),c=u(206),d=u(207),m=u(208),f=u(209),g=u(210),h=u(211),p=u(212),b=u(213),w=u(214),P=u(89),D=u(14),v=u(13),k=u(1),N=u(37),y=u(48),A=u(25),I=u(88),L=u(12),S=u(90),C=u(5),j=u(216),M=u(31),U=u(7),E=u(17),G=u(217),T=u(62),J=u(44),Z=u(91),x=u(27),R=u(18),Y=u(137),F=u(21),V=u(4),W=u(9),O=u(26),q=u(87),z=u(11),B=u(60),H=t._1({encapsulation:2,styles:[],data:{}});function K(l){return t._25(0,[(l()(),t._3(0,0,null,null,9,"ion-item",[["class","item item-block"]],null,null,null,P.b,P.a)),t._2(1,1097728,null,3,D.a,[v.a,k.a,t.k,t.D,[2,N.a]],null,null),t._21(335544320,2,{contentLabel:0}),t._21(603979776,3,{_buttons:1}),t._21(603979776,4,{_icons:1}),t._2(5,16384,null,0,y.a,[],null,null),(l()(),t._23(-1,2,["\n        "])),(l()(),t._3(7,0,null,0,1,"ion-icon",[["item-start",""],["name","mail"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._2(8,147456,[[4,4]],0,A.a,[k.a,t.k,t.D],{name:[0,"name"]},null),(l()(),t._23(9,2,["\n        ","\n      "]))],function(l,n){l(n,8,0,"mail")},function(l,n){var u=n.component;l(n,7,0,t._17(n,8)._hidden),l(n,9,0,u.userProfileDetail.email)})}function Q(l){return t._25(0,[(l()(),t._3(0,0,null,null,9,"ion-item",[["class","item item-block"]],null,null,null,P.b,P.a)),t._2(1,1097728,null,3,D.a,[v.a,k.a,t.k,t.D,[2,N.a]],null,null),t._21(335544320,5,{contentLabel:0}),t._21(603979776,6,{_buttons:1}),t._21(603979776,7,{_icons:1}),t._2(5,16384,null,0,y.a,[],null,null),(l()(),t._23(-1,2,["\n        "])),(l()(),t._3(7,0,null,0,1,"ion-icon",[["item-start",""],["name","call"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._2(8,147456,[[7,4]],0,A.a,[k.a,t.k,t.D],{name:[0,"name"]},null),(l()(),t._23(9,2,["\n        ","\n      "]))],function(l,n){l(n,8,0,"call")},function(l,n){var u=n.component;l(n,7,0,t._17(n,8)._hidden),l(n,9,0,u.userProfileDetail.contact)})}function X(l){return t._25(0,[(l()(),t._3(0,0,null,null,9,"ion-item",[["class","item item-block"]],null,null,null,P.b,P.a)),t._2(1,1097728,null,3,D.a,[v.a,k.a,t.k,t.D,[2,N.a]],null,null),t._21(335544320,8,{contentLabel:0}),t._21(603979776,9,{_buttons:1}),t._21(603979776,10,{_icons:1}),t._2(5,16384,null,0,y.a,[],null,null),(l()(),t._23(-1,2,["\n        "])),(l()(),t._3(7,0,null,0,1,"ion-icon",[["item-start",""],["name","locate"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._2(8,147456,[[10,4]],0,A.a,[k.a,t.k,t.D],{name:[0,"name"]},null),(l()(),t._23(9,2,["\n        ","\n      "]))],function(l,n){l(n,8,0,"locate")},function(l,n){var u=n.component;l(n,7,0,t._17(n,8)._hidden),l(n,9,0,u.userProfileDetail.address.address1)})}function $(l){return t._25(0,[(l()(),t._3(0,0,null,null,9,"ion-item",[["class","item item-block"]],null,null,null,P.b,P.a)),t._2(1,1097728,null,3,D.a,[v.a,k.a,t.k,t.D,[2,N.a]],null,null),t._21(335544320,14,{contentLabel:0}),t._21(603979776,15,{_buttons:1}),t._21(603979776,16,{_icons:1}),t._2(5,16384,null,0,y.a,[],null,null),(l()(),t._23(-1,2,["\n        "])),(l()(),t._3(7,0,null,0,1,"ion-icon",[["item-start",""],["name","locate"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._2(8,147456,[[16,4]],0,A.a,[k.a,t.k,t.D],{name:[0,"name"]},null),(l()(),t._23(9,2,["\n        ","\n      "]))],function(l,n){l(n,8,0,"locate")},function(l,n){var u=n.component;l(n,7,0,t._17(n,8)._hidden),l(n,9,0,u.deviceLocation.latitude)})}function ll(l){return t._25(0,[(l()(),t._3(0,0,null,null,49,"ion-card-content",[],null,null,null,null,null)),t._2(1,16384,null,0,I.a,[k.a,t.k,t.D],null,null),(l()(),t._23(-1,null,["\n      "])),(l()(),t._3(3,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),t._23(-1,null,["\n      "])),(l()(),t._3(5,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),t._23(-1,null,["\n        "])),(l()(),t._3(7,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t._23(8,null,["",""])),(l()(),t._23(-1,null,["\n      "])),(l()(),t._23(-1,null,["\n      "])),(l()(),t._3(11,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),t._23(12,null,["",""])),t._18(131072,a.i,[a.j,t.g]),(l()(),t._23(-1,null,["\n      "])),(l()(),t.Y(16777216,null,null,1,null,K)),t._2(16,16384,null,0,L.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t._23(-1,null,["\n      "])),(l()(),t.Y(16777216,null,null,1,null,Q)),t._2(19,16384,null,0,L.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t._23(-1,null,["\n      "])),(l()(),t.Y(16777216,null,null,1,null,X)),t._2(22,16384,null,0,L.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t._23(-1,null,["\n      "])),(l()(),t._3(24,0,null,null,10,"ion-item",[["class","item item-block"]],null,[[null,"tap"]],function(l,n,u){var t=!0;"tap"===n&&(t=!1!==l.component.updatePassword()&&t);return t},P.b,P.a)),t._2(25,1097728,null,3,D.a,[v.a,k.a,t.k,t.D,[2,N.a]],null,null),t._21(335544320,11,{contentLabel:0}),t._21(603979776,12,{_buttons:1}),t._21(603979776,13,{_icons:1}),t._2(29,16384,null,0,y.a,[],null,null),(l()(),t._23(-1,2,["\n        "])),(l()(),t._3(31,0,null,0,1,"ion-icon",[["item-start",""],["name","key"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._2(32,147456,[[13,4]],0,A.a,[k.a,t.k,t.D],{name:[0,"name"]},null),(l()(),t._23(33,2,["\n        ","\n      "])),t._18(131072,a.i,[a.j,t.g]),(l()(),t._23(-1,null,["\n      "])),(l()(),t.Y(16777216,null,null,1,null,$)),t._2(37,16384,null,0,L.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t._23(-1,null,["\n      "])),(l()(),t._3(39,0,null,null,9,"ion-item",[["class","item item-block"]],null,null,null,P.b,P.a)),t._2(40,1097728,null,3,D.a,[v.a,k.a,t.k,t.D,[2,N.a]],null,null),t._21(335544320,17,{contentLabel:0}),t._21(603979776,18,{_buttons:1}),t._21(603979776,19,{_icons:1}),t._2(44,16384,null,0,y.a,[],null,null),(l()(),t._23(-1,2,["\n        "])),(l()(),t._3(46,0,null,0,1,"ion-icon",[["item-start",""],["name","time"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._2(47,147456,[[19,4]],0,A.a,[k.a,t.k,t.D],{name:[0,"name"]},null),(l()(),t._23(48,2,["\n        ","\n      "])),(l()(),t._23(-1,null,["\n    "]))],function(l,n){var u=n.component;l(n,16,0,u.userProfileDetail.email),l(n,19,0,u.userProfileDetail.contact),l(n,22,0,u.userProfileDetail.address);l(n,32,0,"key"),l(n,37,0,u.deviceLocation);l(n,47,0,"time")},function(l,n){var u=n.component;l(n,3,0,u.profileImage),l(n,8,0,u.userProfileDetail.partyName),l(n,12,0,t._24(n,12,0,t._17(n,13).transform("Role"))),l(n,31,0,t._17(n,32)._hidden),l(n,33,0,t._24(n,33,0,t._17(n,34).transform("ResetPassword"))),l(n,46,0,t._17(n,47)._hidden),l(n,48,0,u.timeZone)})}function nl(l){return t._25(0,[(l()(),t._3(0,0,null,null,23,"ion-header",[],null,null,null,null,null)),t._2(1,16384,null,0,S.a,[k.a,t.k,t.D,[2,C.a]],null,null),(l()(),t._23(-1,null,["\n\n  "])),(l()(),t._3(3,0,null,null,19,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,j.b,j.a)),t._2(4,49152,null,0,M.a,[U.a,[2,C.a],[2,E.a],k.a,t.k,t.D],null,null),(l()(),t._23(-1,3,["\n    "])),(l()(),t._3(6,0,null,3,3,"ion-title",[],null,null,null,G.b,G.a)),t._2(7,49152,null,0,T.a,[k.a,t.k,t.D,[2,J.a],[2,M.a]],null,null),(l()(),t._23(8,0,[" ",""])),t._18(131072,a.i,[a.j,t.g]),(l()(),t._23(-1,3,["\n    "])),(l()(),t._3(11,0,null,2,10,"ion-buttons",[["end",""]],null,null,null,null,null)),t._2(12,16384,null,1,Z.a,[k.a,t.k,t.D,[2,J.a],[2,M.a]],null,null),t._21(603979776,1,{_buttons:1}),(l()(),t._23(-1,null,["\n      "])),(l()(),t._3(15,0,null,null,5,"button",[["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(l,n,u){var t=!0;"click"===n&&(t=!1!==l.component.logout()&&t);return t},x.b,x.a)),t._2(16,1097728,[[1,4]],0,R.a,[[8,""],k.a,t.k,t.D],null,null),(l()(),t._23(-1,0,["\n        "])),(l()(),t._3(18,0,null,0,1,"ion-icon",[["name","log-out"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t._2(19,147456,null,0,A.a,[k.a,t.k,t.D],{name:[0,"name"]},null),(l()(),t._23(-1,0,["\n      "])),(l()(),t._23(-1,null,["\n    "])),(l()(),t._23(-1,3,["\n  "])),(l()(),t._23(-1,null,["\n"])),(l()(),t._23(-1,null,["\n\n"])),(l()(),t._3(25,0,null,null,9,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Y.b,Y.a)),t._2(26,4374528,null,0,F.a,[k.a,V.a,W.a,t.k,t.D,U.a,O.a,t.x,[2,C.a],[2,E.a]],null,null),(l()(),t._23(-1,1,["\n  "])),(l()(),t._3(28,0,null,1,5,"ion-card",[["col-lg-4",""],["offset-lg-4",""]],null,null,null,null,null)),t._2(29,16384,null,0,q.a,[k.a,t.k,t.D],null,null),(l()(),t._23(-1,null,["\n    "])),(l()(),t.Y(16777216,null,null,1,null,ll)),t._2(32,16384,null,0,L.i,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t._23(-1,null,["\n  "])),(l()(),t._23(-1,1,["\n"])),(l()(),t._23(-1,null,["\n\n\n`\n"]))],function(l,n){var u=n.component;l(n,19,0,"log-out"),l(n,32,0,u.userProfileDetail)},function(l,n){l(n,3,0,t._17(n,4)._hidden,t._17(n,4)._sbPadding),l(n,8,0,t._24(n,8,0,t._17(n,9).transform("UserProfileTitle"))),l(n,18,0,t._17(n,19)._hidden),l(n,25,0,t._17(n,26).statusbarPadding,t._17(n,26)._hasRefresher)})}var ul=t.Z("page-userprofile",r,function(l){return t._25(0,[(l()(),t._3(0,0,null,null,1,"page-userprofile",[],null,null,null,nl,H)),t._2(1,49152,null,0,r,[E.a,z.a,e.a,a.j,B.a,o.a,s.a],null,null)],null,null)},{},{},[]),tl=u(16),el=u(134),al=u(41);u.d(n,"UserprofilePageModuleNgFactory",function(){return ol});var ol=t._0(_,[],function(l){return t._14([t._15(512,t.i,t.W,[[8,[c.a,d.a,m.a,f.a,g.a,h.a,p.a,b.a,w.a,ul]],[3,t.i],t.v]),t._15(4608,L.k,L.j,[t.u,[2,L.t]]),t._15(4608,tl.k,tl.k,[]),t._15(4608,tl.c,tl.c,[]),t._15(512,L.b,L.b,[]),t._15(512,tl.j,tl.j,[]),t._15(512,tl.d,tl.d,[]),t._15(512,tl.i,tl.i,[]),t._15(512,el.a,el.a,[]),t._15(512,el.b,el.b,[]),t._15(512,a.g,a.g,[]),t._15(512,_,_,[]),t._15(256,al.a,r,[])])})}});